1:"$Sreact.fragment"
2:I[7085,["386","static/chunks/386-050f686506f6526c.js","92","static/chunks/92-3f5ceb2c654995d0.js","177","static/chunks/app/layout-b537132055919d50.js"],"Header"]
3:I[4811,[],""]
4:I[4503,[],""]
5:I[8904,["386","static/chunks/386-050f686506f6526c.js","92","static/chunks/92-3f5ceb2c654995d0.js","345","static/chunks/app/not-found-9bec728d926a89ac.js"],"default"]
6:I[2386,["386","static/chunks/386-050f686506f6526c.js","92","static/chunks/92-3f5ceb2c654995d0.js","177","static/chunks/app/layout-b537132055919d50.js"],""]
f:I[9841,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/488a341127a98a98.css","style"]
0:{"P":null,"b":"i1NOvysjjSakMkggrtmrF","p":"","c":["","blog"],"i":false,"f":[[["",{"children":["blog",{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/488a341127a98a98.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n              try {\n                const theme = localStorage.getItem('theme');\n                if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n                  document.documentElement.classList.add('dark');\n                }\n              } catch (e) {}\n            "}}]}],["$","body",null,{"className":"__className_f367f3","children":["$","div",null,{"className":"flex min-h-screen flex-col","children":[["$","$L2",null,{}],["$","main",null,{"className":"flex-1","children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","$L5",null,{}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"border-t bg-background","children":["$","div",null,{"className":"container mx-auto px-4 py-8","children":[["$","div",null,{"className":"grid grid-cols-1 md:grid-cols-3 gap-8","children":[["$","div",null,{"children":[["$","h3",null,{"className":"font-semibold mb-3","children":"Rishabh Rathod"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"Staff Frontend Engineer passionate about building efficient developer tools and user-friendly applications."}]]}],["$","div",null,{"children":[["$","h3",null,{"className":"font-semibold mb-3","children":"Quick Links"}],["$","ul",null,{"className":"space-y-2 text-sm","children":[["$","li",null,{"children":["$","$L6",null,{"href":"/projects","className":"text-muted-foreground hover:text-foreground transition-colors","children":"Projects"}]}],["$","li",null,{"children":["$","$L6",null,{"href":"/blog","className":"text-muted-foreground hover:text-foreground transition-colors","children":"Blog"}]}],["$","li",null,{"children":["$","$L6",null,{"href":"/travel","className":"text-muted-foreground hover:text-foreground transition-colors","children":"Travel Stories"}]}],["$","li",null,{"children":["$","$L6",null,{"href":"/about","className":"text-muted-foreground hover:text-foreground transition-colors","children":"About"}]}]]}]]}],["$","div",null,{"children":[["$","h3",null,{"className":"font-semibold mb-3","children":"Connect"}],["$","div",null,{"className":"flex space-x-4","children":[["$","a",null,{"href":"https://github.com/rishabhrathod01","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground hover:text-foreground transition-colors","aria-label":"GitHub","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-github h-5 w-5","children":[["$","path","tonef",{"d":"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["$","path","9comsn",{"d":"M9 18c-4.51 2-5-2-7-2"}],"$undefined"]}]}],["$","a",null,{"href":"https://www.linkedin.com/in/rishabhrathod01","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground hover:text-foreground transition-colors","aria-label":"LinkedIn","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-linkedin h-5 w-5","children":[["$","path","c2jq9f",{"d":"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}],["$","rect","mk3on5",{"width":"4","height":"12","x":"2","y":"9"}],["$","circle","bt5ra8",{"cx":"4","cy":"4","r":"2"}],"$undefined"]}]}],["$","a",null,{"href":"https://twitter.com/rishabhrathod01","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Twitter","children":"$L7"}],"$L8","$L9"]}]]}]]}],"$La"]}]}]]}]}]]}]]}],{"children":["blog","$Lb",{"children":["__PAGE__","$Lc",{},null,false]},null,false]},["$Ld",[],[]],false],"$Le",false]],"m":"$undefined","G":["$f",[]],"s":false,"S":true}
11:I[2546,[],"OutletBoundary"]
13:I[7383,[],"AsyncMetadataOutlet"]
15:I[2546,[],"ViewportBoundary"]
17:I[2546,[],"MetadataBoundary"]
18:"$Sreact.suspense"
7:["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-twitter h-5 w-5","children":[["$","path","pff0z6",{"d":"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"}],"$undefined"]}]
8:["$","a",null,{"href":"https://www.instagram.com/rishabhrathod01","target":"_blank","rel":"noopener noreferrer","className":"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Instagram","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-instagram h-5 w-5","children":[["$","rect","2e1cvw",{"width":"20","height":"20","x":"2","y":"2","rx":"5","ry":"5"}],["$","path","9exkf1",{"d":"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}],["$","line","r4j83e",{"x1":"17.5","x2":"17.51","y1":"6.5","y2":"6.5"}],"$undefined"]}]}]
9:["$","a",null,{"href":"mailto:rishabhrathod2012@gmail.com","className":"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Email","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-mail h-5 w-5","children":[["$","rect","18n3k1",{"width":"20","height":"16","x":"2","y":"4","rx":"2"}],["$","path","1ocrg3",{"d":"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"}],"$undefined"]}]}]
a:["$","div",null,{"className":"mt-8 pt-8 border-t text-center text-sm text-muted-foreground","children":["$","p",null,{"children":["¬© ",2025," Rishabh Rathod. All rights reserved."]}]}]
b:["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
c:["$","$1","c",{"children":["$L10",null,["$","$L11",null,{"children":["$L12",["$","$L13",null,{"promise":"$@14"}]]}]]}]
d:["$","div","l",{"className":"container mx-auto px-4 py-16","children":["$","div",null,{"className":"max-w-6xl mx-auto","children":["$","div",null,{"className":"animate-pulse space-y-8","children":[["$","div",null,{"className":"h-12 bg-muted rounded w-1/3"}],["$","div",null,{"className":"h-6 bg-muted rounded w-2/3"}],["$","div",null,{"className":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6","children":[["$","div","1",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}],["$","div","2",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}],["$","div","3",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}],["$","div","4",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}],["$","div","5",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}],["$","div","6",{"className":"space-y-4","children":[["$","div",null,{"className":"h-48 bg-muted rounded"}],["$","div",null,{"className":"h-6 bg-muted rounded w-3/4"}],["$","div",null,{"className":"h-4 bg-muted rounded w-full"}],["$","div",null,{"className":"h-4 bg-muted rounded w-5/6"}]]}]]}]]}]}]}]
e:["$","$1","h",{"children":[null,[["$","$L15",null,{"children":"$L16"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L17",null,{"children":["$","div",null,{"hidden":true,"children":["$","$18",null,{"fallback":null,"children":"$L19"}]}]}]]}]
1a:I[5080,["386","static/chunks/386-050f686506f6526c.js","92","static/chunks/92-3f5ceb2c654995d0.js","514","static/chunks/514-9f554e00db9ecce4.js","831","static/chunks/app/blog/page-b0a4424c01a11a89.js"],"BlogCard"]
1b:T1aca,
In the article, we will be building an admin dashboard that will help us manage the product data of a balloon's store website.
![products.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623737585900/kf-1uvKk3.png)
The above image is a website's product page that fetches data from a google sheet acting as a database.
Our admin dashboard will use google sheets APIs to modify data.
#### Admin dashboard basic features:- 
1. Create a new product. ( Insert a row )
2. Modify existing product details. (modify a row)
3. Remove product. (delete a row )


![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623737493993/dCLrgHGa4.png)

We will use appsmith's platform to build this dashboard.

## ü§î What is Appsmith?

Appsmith is an open-source framework to build admin panels, CRUD apps, and workflows. Build everything you need, 10x faster.

sounds cool? Let's build and see.



### 1. Create a datasource üíΩ
In this case, `datasource` is a google sheet so let's create a new sheet.

![Screenshot 2021-06-15 at 12.19.32 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623740018881/GLJ-XZtMj_.png)

here we created a sheet for `products` with the column as 
```
"product_id" ,  // unique id 
"category_type", // product categories type like "BALLOON" or "FIREWORKS" or some other
"product_name", // name of the product
"product_desp" , // about the product
"product_cost" , // cost of the product
"product_stock", // stock quantity of product 
"product_img_link" // image url
``` 

### 2. Integrate datasource to appsmith app

when you create a new appsmith app, you will find yourself here.

![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623741556622/0b_GU2Gsw.png)
Click on Import APIs -> Choose Google Sheet -> Fill in the details.
It will add google sheet as a datasource and route to create a new API.

> Refer [Appsmith's docs](https://docs.appsmith.com/datasource-reference/querying-google-sheets) to know more about google sheet integration.

### 3. Fetch data and generate widget to show UI 

To get all the rows of the `products` sheet fill in the details as following
- methods:  `fetch sheet rows`
- spreadsheet URL: paste your google sheet URL
- sheet name: `products` 

![Untitled design.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623743329440/M5F8SQhEe.png)

After a successful response from the API, click on `Generate Widget` to create a table rendering response data in a table.


![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623750922448/FN6vTEHDf.png)

### 4. Modify data using Form üî®

To create or update data in a row we will create a `Form` widget with an input field for each row of data respective to its type.
![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623756084894/P-Zbh1Bea.png)

here I have created a `Form` called Modify Product with input field as follows -

```
// widget_name `<WidgetType>` = {{defaultValue}}
- Product Image `<Image>`  =  `{{appsmith.store.uploaded_image_link || productTable.selectedRow.product_img_link}}`
- ImageURLInput  `<Text>` = `{{productTable.selectedRow.product_img_link || demo_image_URL}}`
- product_name_input `<Text>` = `{{productTable.selectedRow.product_name || ''}}`
- product_category_input `<Select>` = `{{productTable.selectedRow.product_name || ''}}`
- product_desc_input `<Text>` = `{{productTable.selectedRow.product_name || ''}}`
- product_stock_input `<Text>` = `{{productTable.selectedRow.product_name || ''}}`
- product_cost_input `<Text>` = `{{productTable.selectedRow.product_name || ''}}`
- product_row_index `<Text>` = `{{productTable.selectedRow.product_name || productTable.tableData.length}}`
``` 

Refer the [docs](https://docs.appsmith.com/widget-reference/table) if you aren't familiar with read value syntax like `productTable.selectedRow.column_name` mentioned above.


`appsmith.store.uploaded_image_link` is used to read a value from the appsmith store.

Check more about the appsmith store [here](https://docs.appsmith.com/framework-reference/store-value). 

#### Create a new row

When a table row is not selected, we would assume that the user will fill `Form` to create a new product i.e., a new row.
In that case, we will need to create an API to insert a new row in google sheets.

- createProduct API
![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623847297678/6WOpFZGVG.png)

#### Update an existing row

- updateProduct API
![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623847546411/uFDRimaA1.png)

After both the APIs are created successfully. Now on click of the `Submit` button in `Form`, we would call these APIs according to the task.

`Submit Button's` onClick actions :-

```js
onClick = {{
Number(product_row_index.text) <= productTable.tableData.length - 1 ? 
updateProduct.run(
    // After successful  
	() => getProducts.run(
    // clear
	   () => storeValue("uploaded_image_link","")  
), () => {})
: createProduct.run(
	() => getProducts.run(
		() => storeValue("uploaded_image_link","") 
), () => {})
}}
```

####  To Delete an existing row 

Create a delete button inside the table as a new column and on click of which call deleteProductAPI

- deleteProduct API

![Screenshot 2021-06-20 at 12.16.40 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1624171611200/i0ilO4UP6.png)


### 5. Upload Image using Cloudinary üå©

To upload an image to appsmith, we will use the `Filepicker` widget as shown below.

![Screenshot 2021-06-17 at 12.19.38 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623869432990/28bKft3ai.png)

After this, I preferred adding an upload button separately on click of which we will upload selected image to cloudinary.

Now let's create an account in cloudinary and get your `cloud_name` and `upload_preset` which can be used to upload images using appsmith.

![Screenshot 2021-06-17 at 12.26.27 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623869891881/65HeDTjcX.png)

Now let's create an API to upload the image.
- #### uploadImageAPI

Fill in the details as shown below.
`FilePicker1` is a reference to the `FilePicker` widget.
![Screenshot 2021-06-17 at 12.18.00 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623870070049/QwhYWcany.png)

Now, we can run `uploadImageAPI` when the upload Image button is clicked.

```js
onClick = {{ 
  uploadImageAPI.run(
    (response) => {
      /* onSuccess */
      storeValue("uploaded_image_link",response.url);
      // here, we store the value which is then read using {{appsmith.store.uploaded_image_link}}
    },
    (response) => {
      /* onError */
    },
  )
}}
```

And it's done. üéâü•≥


![Screenshot 2021-06-20 at 12.25.22 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1624172135740/bT1-TutUK.png)

That's how it looks. üßêü§©10:["$","div",null,{"className":"container mx-auto px-4 py-16","children":["$","div",null,{"className":"max-w-6xl mx-auto","children":[["$","div",null,{"className":"text-center mb-12","children":[["$","h1",null,{"className":"text-4xl md:text-5xl font-bold mb-4","children":"Tech Blog"}],["$","p",null,{"className":"text-lg text-muted-foreground max-w-2xl mx-auto","children":"Thoughts, tutorials, and insights about web development, programming, and the latest in tech."}]]}],["$","div",null,{"className":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6","children":[["$","$L1a","building-an-admin-panel-using-low-code-tools-appsmith",{"slug":"building-an-admin-panel-using-low-code-tools-appsmith","title":"Building an admin panel using low code tools - Appsmith","date":"2021-08-05","description":"In the article, we will be building an admin dashboard that will help us manage the product data of a balloon's store website.\nThe above image is a website's product page that fetches data from a goo","tags":["Low Code","Tools","React"],"readingTime":"5 min read","content":"$1b","index":0}],"$L1c","$L1d"]}]]}]}]
1e:Tf3e,
In this article, I will share my experience building a website using [Quarkly](https://quarkly.io/)


### So, What is Quarkly ü§î ?

Quarkly is a low-code design tool for creating websites and web apps.

It was the best fit for all the features I needed and was also free üòã

Few features are listed below -
1. Github sync of whole website code. *(take home your website code )* ü•∫
2. Building custom components using react.
3. Prebuild components library.
4. performant (changes are visible close to real-time)



![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1623704690316/lneP3Vevcs.png)


Now, let's begin to create the website. üõ†

For the website demoed in this article, inspiration was taken from a design by [bhavya sinha](https://dribbble.com/bhavyasinha).  

![Screenshot 2021-06-20 at 12.39.25 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1624173716656/YTaheglVR.png)

> Before starting to create anything using quarkly I would suggest checking out their tutorials on  [youtube](https://www.youtube.com/watch?v=F0SS7xuI2ug&list=PLPVxzkrdHj5mcPfXj2hVR5Kkw7j8ISDkw). Understanding how components are created and consumed will boost website development using quarkly.


When a user creates a new project, they will see an empty canvas as shown below ‚¨áÔ∏è
![Screenshot 2021-06-21 at 12.20.37 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1624215051212/ghylYcGFl.png)


Now, let's start with making components that are common in multiple pages such as `Header`, `Footer`.

### 1. Creating `<Header/>` and `<Footer />` component

In quarkly's catalog, there are a few sample headers for the basic use case.


![Screenshot 2021-07-11 at 2.55.09 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1625952451554/sYsX42rRy.png)
    
I choose one of them, modified the style, and added two new pages to the project.
Also to show the currently selected page color modify the theme accordingly.

After the header was ready, I converted it as a component to use on every page.

![Screenshot 2021-07-11 at 3.20.38 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1625953860427/hSW0gTv7N.png)

Similarly, Add a footer component. 


### 2. Creating Product Cards


![Screenshot 2021-07-11 at 3.27.46 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1625954290167/nNGdN1M3wZ.png)

Quarkly also provides a components library that can be used to create other components.
 
I used quarkly's stack component to show the ProductItem (Card) inside it.


[üîó View on gist.github.com](https://gist.github.com/Rishabh-Rathod/6daebe9db5d704c2c9157ad3cc0e243e)


### 3. Load data from google sheets

As for this project, google Sheets is used as a database, we need a way to fetch google Sheets data.

I followed the steps in the video below, to set it up. 


[üîó View on www.youtube.com](https://www.youtube.com/watch?v=pFpytftOYiw&t=582s)


Here is a sample code to fetch data from google sheets.


[üîó View on gist.github.com](https://gist.github.com/Rishabh-Rathod/c1177aed655f4de9c0eac7797f017bb9)


This is how [products page](https://spadeevents.netlify.app/products) of the website looks. ü§©

![Screenshot 2021-07-11 at 4.07.43 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1625956689300/ECUR5MfSa.png)

### 4. Git Sync and smooth deploy experience üí®


I loved the git sync and one-click netlify deployment feature. It was one of the smoothest deployment experiences I ever had.


![Screenshot 2021-07-11 at 4.24.16 AM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1625957850871/1KKuzKwns.png)

And we are done üéâ


![thankyoufor attention.jpeg](https://cdn.hashnode.com/res/hashnode/image/upload/v1625957451618/56Ady5LQd.jpeg)

PS: I would love to know what you make using quarkly. If you are stuck anywhere feel free to  [join their discord](https://discord.com/invite/AevfxmF3TM). 
1c:["$","$L1a","create-website-using-low-code-tool",{"slug":"create-website-using-low-code-tool","title":"Building a store website","date":"2021-08-05","description":"In this article, I will share my experience building a website using Quarkly So, What is Quarkly ü§î ? Quarkly is a low-code design tool for creating websites and web apps. It was the best fit for all ","tags":["Web Development"],"readingTime":"3 min read","content":"$1e","index":1}]
1f:T24e4,
After the MIUI 12 upgrade, I just loved playing the new smooth animations üòç and as a developer, was excited to know how to implement it ü§î.

The first thing I did was google "Wave Animation Can it be done in react-native? " üò¨ and got a close result to what I was looking for but as I wanted to play with the wave. That wasn't enough and hence I tried further on my own.

Here are all my learnings compiled as an article.

## 1\. Make A Smooth Curve

To draw a curve, we will use SVG Path which supports the cubic bezier curve.

A **cubic bezier curve** is a curve line formed using 4 points, a starting point, an ending point, and control points ( c1 & c2 ).

**If you are familiar with making curves using SVG, you can jump üèÉüèª‚Äç‚ôÇÔ∏è to point 2.**

#### 1.1 Let's Move To The Start Point üéØ

To move to a particular point in SVG, we use the "Move to" command i.e., `M x y`.

`M 0 0.5`

![Screenshot 2020-12-11 at 11.51.05 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1607711013471/y_XztobMp.png align="left")

#### 1.2 Make The üßä Cubic Curve

![Screenshot 2020-12-11 at 11.51.11 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1607711136028/m9yaHkffz.png align="left")

In the above example, we plot a curve that starts at (0, 0.5) and ends at (1, 0.5) with control points at (0.5, 0) and (0.5, 1).

üî¥ Red dots are curve endpoints and üü¢ green dots are the control points.

#### 1.3 Form A Closed Figure To Fill Color

To form a closed figure, we will draw lines connecting curve endpoints to (1, 1) and (0, 1).

![Screenshot 2020-12-11 at 11.51.32 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1607711273821/YADt5EezP.png align="left")

Hence, the complete path command is ‚¨áÔ∏è

`M 0 0.5 C 0.5 0 0.5 1 1 0.5 L 1 1 L 0 1 Z`

```js
const curveDimension = {
  start: { x: 0, y: 0.5 },
  c1: { x: 0.5, y: 0 },
  c2: { x: 0.5, y: 1 },
  end: { x: 1, y: 0.5 },
};
```

React Native code to make curve using SVG ‚¨áÔ∏è .


[üîó View on snack.expo.io](https://snack.expo.io/@rishabhrathod2012/svg-wave-(bezier-curve-demo))
 

> To understand how the bezier curve works check out [this](https://vimeo.com/106757336) video. To learn more about SVG path format read [this](https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths).

## 2\. Get Device Orientation Values üì±

We will use [`expo-sensors's`](https://docs.expo.io/versions/latest/sdk/accelerometer/) accelerometer to get the values.

Let's get the accelerometer (x,y,z) values and store them in the state variable `orientation`.

```js
import { Accelerometer } from 'expo-sensors';
const Wave = () => {
 const [orientation, setOrientation] = useState({
    x: 0,
    y: 0,
    z: 0,
  });


 useEffect(() => {
    subscription.current = Accelerometer.addListener(({ x, y, z }) => {
      setOrientation(() => ({
        x: x,
        y: y,
        z: z,
      }));
    });
    return () => subscription.current.remove();
  }, []);
}
return <View><Text>{orientation.x}</Text></View>
}
```

![Phone Tilt Demo](https://cdn.hashnode.com/res/hashnode/image/upload/v1607778461762/XLiVKTs5M.gif align="left")

> Note: On tilting the phone left, the `orientation.x` value becomes positive and vice versa when tilting right.

## 3\. Moving the Curve on Phone Tilt

When a phone is tilted from the extreme left to the extreme right, the `orientation.x` value moves from a positive maximum to a negative maximum.

Accordingly, curve points coordinate move as shown below

![Screenshot 2020-12-12 at 5.48.43 PM.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1607780037633/ZPXghqy2a.png align="left")

When you go through the above 5 steps, you can notice

1. The `start` point will move from (0,0) to (0,1).
    
2. The `end` point will move from (1,1) to (1,0).
    
3. Control points `c1` moves from (0.25, 0.25) to (0.25, 0.75) and `c2` from (0.75,0.75) to (0.75, 0.25).
    

**X coordinates for all the curve points are kept constant.**

Let's find the relation of the Y coordinates of the curve points and the `orientation.x` value.

#### 3.1 Start Point

We will find the relation between `orientation.x` and the start point. For that, we need to remember the below points.

* When the phone is not tilted, the starting point stays at 0.5.
    
* When titled right (negative `orientation.x` value) `start` point increases from 0.5 till 1 and similarly 0.5 to 0 when titled left (positive `orientation.x` value). Hence, we negate the `orientation.x` value.
    
* Initial position of the `start` point is 0.5 when the `orientation.x` value is 0, so we will need to add 0.5 to the `orientation.x` value.
    

`const adjustAxis = (value) => 0.5 + (-value / 1.5);`

**adjustAxis** is a helper function to map `orientation.x` to the starting point's y value.

Hence, `start.y = adjustAxis(orientation.x)`

#### 3.2 End Point

Since the `end` point is always opposite to the `start` point.

`end.y = 1 - start.y`

#### 3.3 Start Control Point `c1`

After scratching the brain for a long ü§Ø, I came up with a linear equation that works fine for control points.

`c1 = (start.y / 2) + 0.25`

#### 3.4 Ending Control Point `c2`

`c2 = 1 - c1`

#### **ü§´** Enough Talking, Let's Code It Down.

```js
// start
const startY = adjustAxis(orientation.x);
// initial control point c1 
const startControlPointY = (adjustAxis(orientation.x) / 2) + 0.25;
// curvePoints
const curveDimension = {
  start: { x: 0, y: startY},
   c1: { x: 0.4, y: startControlPointY},
   c2: { x: 0.6, y: 1 - startControlPointY},
   end: { x: 1, y: 1 - startY},
};
```

## 4\. Let's Get Ready To Animate üèãüèª‚Äç‚ôÄÔ∏è

As our curve points are derived from the `startY` and `startControlPointY`. We will make `startY` and `startControlPointY` as \*\* [shared values](https://docs.swmansion.com/react-native-reanimated/docs/shared-values/) \*\* and curve point as \*\*derived value \*\*.

* Shared values can be understood as a replacement of `Animated.Value` with more benefits.
    
* Derived values are similar to shared values whose value is derived from other shared values.
    

```js
 const startY = useSharedValue(0);
 const startControlPointY = useSharedValue(0);
```

[`useSharedValue`](https://docs.swmansion.com/react-native-reanimated/docs/api/useSharedValue/) returns a reference to shared value initialized with the provided data. A reference is an object with `.value` property, that can be accessed and modified from worklets, but also updated directly from the main JS thread.

```js
const curveDimension = useDerivedValue(() => {
    return {
      start: { x: 0, y: startY.value },
      c1: { x: 0.4, y: startControlPointY.value },
      c2: { x: 0.6, y: 1 - startControlPointY.value },
      end: { x: 1, y: 1 - startY.value },
    };
  });
```

[`useDerivedValue`](https://docs.swmansion.com/react-native-reanimated/docs/api/useDerivedValue) allows for creating shared value reference that can change in response to updating of one or more other shared values.

#### Create `AnimatedPath`

As we will animate values supplied in the SVGpath, let's first create an `<AnimatedPath />` Component and replace it with `<Path/>`.

```js
const AnimatedPath = Animated.createAnimatedComponent(Path);
```

`animatedProps` returns an object with key `d` and value as SVG `path`.

```diff
+ const animatedProps = useAnimatedProps(() => {
+   const { start, c1, c2, end } = curveDimension.value;
+   return {
+      d: `M ${start.x} ${start.y} C ${c1.x} ${c1.y} ${c2.x} ${c2.y} ${end.x} ${end.y} L 1 1 L 0 + 1 Z`,
+   };
+ });

- const staticPath = `M ${curveDimension.start.x} ${curveDimension.start.y} 
- C ${curveDimension.c1.x} ${curveDimension.c1.y} 
- ${curveDimension.c2.x} ${curveDimension.c2.y} 
- ${curveDimension.end.x} ${curveDimension.end.y} 
- L 1 1 L 0 1 Z`;
```

Supply `animatedProps` instead of the `d`.

```diff
- <Path
+ <AnimatedPath
      fill={'#0099ff'}
-    d={d}
+     animatedProps={animatedProps}
 />
```

## 5\. Add Spring Animation

We are using [spring animation](https://reactnative.dev/docs/animated#spring) because it gives control over velocity, stiffness, friction which can be used to give a fluid property to the curve.

```js

 startY.value = withSpring(adjustAxis(orientation.x), {
    damping: 80,
    mass: 1,
    stiffness: 10,
    restDisplacementThreshold: 0.0001,
    restSpeedThreshold: 0.001,
  });

  const value = (adjustAxis(orientation.x) / 2) + 0.25;

  startControlPointY.value = withSpring(value, {
    easing: Easing.out(Easing.bounce),
  });
```

[`withSpring`](https://docs.swmansion.com/react-native-reanimated/docs/api/withSpring) is a reanimated hook to implement string physics-based animation.

And finally, we are done. ü•≥ üéä

### This is how it looks ‚¨áÔ∏è .

![Final Result](https://cdn.hashnode.com/res/hashnode/image/upload/v1607812388510/sSmE7cRgj.gif align="left")

To play with it in the expo app [`click here`](https://expo.io/@rishabhrathod2012/projects/miui-wave-animation) and if you are interested in improving it, check out the [complete code.](https://github.com/Rishabh-Rathod/Animation)

Hope you enjoyed this article and learned something new. üôá‚Äç‚ôÇÔ∏è

Also, check out William Candillon's Wave Animation [Video](https://www.youtube.com/watch?v=OU43e7TwlEY) if you haven't.

#### Thank you for reading and would love to hear your suggestions to make it better. You can connect with me on [Twitter](https://twitter.com/rishabhrathod01).1d:["$","$L1a","implementing-miuis-wave-animation-using-react-native-reanimated-v2",{"slug":"implementing-miuis-wave-animation-using-react-native-reanimated-v2","title":"Implementing MIUI's Wave Animation  üåä  Using React Native Reanimated v2","date":"2020-12-12","description":"After the MIUI 12 upgrade, I just loved playing the new smooth animations üòç and as a developer, was excited to know how to implement it ü§î. The first thing I did was google \"Wave Animation Can it be","tags":["React Native","Animation","JavaScript","Tutorial","React"],"readingTime":"7 min read","content":"$1f","index":2}]
16:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
12:null
14:{"metadata":[["$","title","0",{"children":"Blog | Rishabh Rathod"}],["$","meta","1",{"name":"description","content":"Articles about web development, programming, and technology."}],["$","meta","2",{"name":"author","content":"Rishabh Rathod"}],["$","meta","3",{"name":"keywords","content":"Frontend Developer,Web Developer,React,Next.js,TypeScript,Portfolio,Rishabh Rathod"}],["$","meta","4",{"name":"creator","content":"Rishabh Rathod"}],["$","meta","5",{"name":"robots","content":"index, follow"}],["$","meta","6",{"property":"og:title","content":"Rishabh Rathod - Staff Frontend Engineer"}],["$","meta","7",{"property":"og:description","content":"Building efficient and user-friendly developer tools, websites, and mobile apps with JavaScript, React, and React Native"}],["$","meta","8",{"property":"og:url","content":"https://rishabhrathod.com"}],["$","meta","9",{"property":"og:site_name","content":"Rishabh Rathod"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:type","content":"website"}],["$","meta","12",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","13",{"name":"twitter:creator","content":"@rishabhrathod"}],["$","meta","14",{"name":"twitter:title","content":"Rishabh Rathod - Staff Frontend Engineer"}],["$","meta","15",{"name":"twitter:description","content":"Building efficient and user-friendly developer tools, websites, and mobile apps with JavaScript, React, and React Native"}]],"error":null,"digest":"$undefined"}
19:"$14:metadata"
