(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{3012:(e,t,s)=>{Promise.resolve().then(s.bind(s,9866))},5027:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(8636),n=s(2512),o=s(6668),r=s(9895),i=s(9568);let l=(0,r.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:r,asChild:c=!1,...d}=e,m=c?o.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(l({variant:n,size:r,className:s})),ref:t,...d})});c.displayName="Button"},9568:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var a=s(6239),n=s(4398);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,a.$)(t))}},9866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(8636),n=s(2512),o=s(1174),r=s(4624),i=s(4139);let l=s(8669).env.NEXT_PUBLIC_HAVELI_FEEDBACK_URL||"https://script.google.com/macros/s/AKfycbyHS6yS8_7c_e1ugKzECy0_bjeA2Wq_XEWXSVO_y7ckAK5OSDjAu72VKzI9OpHnEjtZgQ/exec";var c=s(5027);let d=["Amazing","Really good","Good","Okay","Could be better","Meh"],m=["Loved it","Nice","Good","Okay","Could explore more","Didn’t get to"],u=["Cute overload","Just right","Loved them","A bit much","Too many","No pets around"],h=["Perfect setup","Good","Worked fine","Okay","Could be better","Struggled"],p=["More than enough","Good","Enough","Okay","Could use more","Limited"],x=["Perfect","Great","Good","Okay","Could be better","Limited access"],b=["https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1574158622682-e40e69881006?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1592194996308-7b43878e84a6?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1583337130415-4b55b931b6eb?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1573865526739-10659fec78a5?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1595433707802-6b2626ef1c91?w=400&h=300&fit=crop"],y={hospitality:["That score is… a bit harsh? Here’s a cute pet. Maybe bump it up a little? Please?","My human tried their best as your roommate! Maybe a few more points?","We promise the roommate will do better next time. Pretty please?","That hurts! Here’s a sad pet. Consider rounding up?"],cleanliness:["But I tried so hard to keep it clean! \uD83D\uDE3F","That score is… a bit harsh? I promise I’ll do better next time!","Okay but the cat tried. Maybe one more point?","I tried! Really! *sad cat noises*"],princessTreatment:["Princess treatment deserved more! Here’s a cat who thinks you’re royalty.","That score is… a bit harsh? You deserve the world!","We could’ve spoiled you more? Say it isn’t so!","Not enough princess vibes? We’ll try harder — maybe bump the score?"],affection:["We love you! Doesn’t that count for a few more points?","That score is… a bit harsh? Here’s some extra love from a cute pet.","More affection points coming your way! Maybe bump the number too?","But we tried to show we care! *puppy eyes*"]},f={hospitality:"",food:"",walkAroundStay:"",pets:"",monitor:"",entertainment:"",cleanliness:"",kitchen:"",princessTreatment:"",affection:""},g={borderColor:"hsl(var(--input))",backgroundColor:"hsl(var(--background))"};function v(e){let{value:t,onChange:s}=e,n=""===t?5:Number(t);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsx)("input",{type:"range",min:1,max:10,value:n,onChange:e=>s(parseInt(e.target.value,10)),className:"flex-1 w-full cursor-pointer"}),(0,a.jsx)("span",{className:"text-lg font-semibold tabular-nums w-8 text-right",children:n})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"1 \xb7 2 \xb7 3 \xb7 4 \xb7 5 \xb7 6 \xb7 7 \xb7 8 \xb7 9 \xb7 10"})]})}function j(e){let{value:t,options:s,onChange:n}=e;return(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>{let s=t===e;return(0,a.jsx)("button",{type:"button",onClick:()=>n(e),className:"rounded-lg border px-4 py-2 text-sm font-medium transition-colors",style:{...g,borderWidth:2,borderColor:s?"hsl(var(--primary))":"hsl(var(--input))",backgroundColor:s?"hsl(var(--primary) / 0.1)":void 0},children:e},e)})})}function N(e){var t;let{fieldKey:s}=e,i=b[(0,n.useMemo)(()=>Math.abs(s.split("").reduce((e,t)=>e+t.charCodeAt(0),0))%b.length,[s])],l=null!=(t=y[s])?t:y.hospitality,c=(0,n.useRef)(null);null===c.current&&(c.current=l[Math.floor(Math.random()*l.length)]);let d=c.current;return(0,a.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 rounded-xl overflow-hidden border",style:{borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--muted))"},children:[(0,a.jsx)("div",{className:"relative w-full aspect-[4/3] min-h-[200px] max-h-64 bg-muted/50 rounded-lg overflow-hidden",children:(0,a.jsx)(o.default,{src:i,alt:"Cute pet",fill:!0,className:"object-contain",sizes:"(max-width: 400px) 100vw, 400px"})}),(0,a.jsx)("p",{className:"p-3 text-sm text-center font-medium",children:d})]})}function k(){let[e,t]=(0,n.useState)(f),[s,o]=(0,n.useState)(0),[b,y]=(0,n.useState)(!1),[g,k]=(0,n.useState)(!1),[w,C]=(0,n.useState)(null),S=(e,s)=>{t(t=>({...t,[e]:s})),C(null)},T=e=>{let t="number"==typeof e?e:parseInt(String(e),10);return!isNaN(t)&&t>=1&&t<=5},P=T(e.hospitality),A=T(e.cleanliness),E=T(e.princessTreatment),_=T(e.affection),M=""!==e.hospitality&&""!==e.food&&""!==e.walkAroundStay&&""!==e.pets&&""!==e.monitor&&""!==e.entertainment&&""!==e.cleanliness&&""!==e.kitchen&&""!==e.princessTreatment&&""!==e.affection,O=async()=>{var t,s,a,n,o,r;y(!0),C(null);let i={hospitality:""===e.hospitality?"":Number(e.hospitality),food:String(null!=(t=e.food)?t:""),walkAroundStay:String(null!=(s=e.walkAroundStay)?s:""),pets:String(null!=(a=e.pets)?a:""),monitor:String(null!=(n=e.monitor)?n:""),entertainment:String(null!=(o=e.entertainment)?o:""),cleanliness:""===e.cleanliness?"":"number"==typeof e.cleanliness?e.cleanliness:Number(e.cleanliness)||e.cleanliness,kitchen:String(null!=(r=e.kitchen)?r:""),princessTreatment:""===e.princessTreatment?"":Number(e.princessTreatment),affection:""===e.affection?"":Number(e.affection)};try{await fetch(l,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(i)}),k(!0)}catch(e){C(e instanceof Error?e.message:"Something went wrong.")}finally{y(!1)}};if(g)return(0,a.jsx)("div",{className:"haveli-feedback-page min-h-screen",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,a.jsxs)(r.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-lg mx-auto text-center rounded-2xl p-8 shadow-lg",style:{backgroundColor:"hsl(var(--card))"},children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Thanks for your feedback!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Your response has been recorded. We hope you had a lovely stay."})]})})});let H={borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--card))"};return(0,a.jsx)("div",{className:"haveli-feedback-page min-h-screen",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"How was your stay?"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"~1.5 days at the haveli — we’d love your honest feedback."})]}),(0,a.jsxs)(r.P.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},onSubmit:e=>{e.preventDefault(),M&&!b&&O()},className:"space-y-8",children:[(0,a.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Page ",s+1," of ",5]}),(0,a.jsxs)(i.N,{mode:"wait",children:[0===s&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-8",children:[(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Hospitality by your roommate"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"How was the hospitality? (1 = meh, 10 = best host ever)"}),(0,a.jsx)(v,{value:e.hospitality,onChange:e=>S("hospitality",e)}),(0,a.jsx)(i.N,{children:P&&(0,a.jsx)(N,{fieldKey:"hospitality"},"hospitality")})]}),(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Food"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Taste, variety, timing"}),(0,a.jsx)(j,{value:e.food,options:d,onChange:e=>S("food",e)})]})]},"page-0"),1===s&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-8",children:[(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Walk around the stay"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"How did you like the area?"}),(0,a.jsx)(j,{value:e.walkAroundStay,options:m,onChange:e=>S("walkAroundStay",e)})]}),(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Pets"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Cute overload, too much, or just right?"}),(0,a.jsx)(j,{value:e.pets,options:u,onChange:e=>S("pets",e)})]})]},"page-1"),2===s&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-8",children:[(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Working with monitor"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Setup, space, anything that could be better?"}),(0,a.jsx)(j,{value:e.monitor,options:h,onChange:e=>S("monitor",e)})]}),(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Entertainment (e.g. TV)"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Enough to unwind?"}),(0,a.jsx)(j,{value:e.entertainment,options:p,onChange:e=>S("entertainment",e)})]})]},"page-2"),3===s&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-8",children:[(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cleanliness"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Room, common areas, bathroom (1–10)"}),(0,a.jsx)(v,{value:""===e.cleanliness?"":"number"==typeof e.cleanliness?e.cleanliness:Number(e.cleanliness)||"",onChange:e=>S("cleanliness",e)}),(0,a.jsx)(i.N,{children:A&&(0,a.jsx)(N,{fieldKey:"cleanliness"},"cleanliness")})]}),(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Kitchen access"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Easy to use? Missing something?"}),(0,a.jsx)(j,{value:e.kitchen,options:x,onChange:e=>S("kitchen",e)})]})]},"page-3"),4===s&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-8",children:[(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Princess treatment"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"Rate your princess treatment (1–10)"}),(0,a.jsx)(v,{value:e.princessTreatment,onChange:e=>S("princessTreatment",e)}),(0,a.jsx)(i.N,{children:E&&(0,a.jsx)(N,{fieldKey:"princessTreatment"},"princessTreatment")})]}),(0,a.jsxs)("section",{className:"rounded-xl p-6 border",style:H,children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Affection points"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:"How loved did you feel? (1–10)"}),(0,a.jsx)(v,{value:e.affection,onChange:e=>S("affection",e)}),(0,a.jsx)(i.N,{children:_&&(0,a.jsx)(N,{fieldKey:"affection"},"affection")})]})]},"page-4")]}),w&&(0,a.jsx)("p",{className:"text-sm text-red-600",role:"alert",children:w}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-4",children:[(0,a.jsx)("div",{className:"w-24",children:s>0?(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>o(e=>e-1),children:"Previous"}):null}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[s+1," / ",5]}),(0,a.jsx)("div",{className:"w-24 flex justify-end",children:s<4?(0,a.jsx)(c.$,{type:"button",onClick:()=>o(e=>e+1),children:"Next"}):(0,a.jsx)(c.$,{type:"submit",disabled:b||!M,children:b?"Submitting…":"Submit feedback"})})]})]})]})})}}},e=>{e.O(0,[112,624,767,766,118,996,358],()=>e(e.s=3012)),_N_E=e.O()}]);